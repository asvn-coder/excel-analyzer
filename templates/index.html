{% extends "base.html" %}

{% block title %}Home - Smart Excel Analyzer{% endblock %}

{% block content %}

<!-- =================== UPLOAD SECTION =================== -->
<section class="card upload-card" id="uploadSection">
  <h2>1Ô∏è‚É£ Upload Excel File</h2>
  <p class="muted">Upload .xlsx, .xls, or .csv file. Handles raw or unclean data automatically.</p>
  <input type="file" id="fileInput" accept=".xlsx,.xls,.csv" />
  <button id="analyzeBtn" class="btn">Upload & Analyze</button>
  <p id="statusText" class="muted small">No file uploaded yet.</p>
</section>

<!-- =================== ANALYSIS SUMMARY SECTION =================== -->
<section class="card summary-card hidden" id="analysisSection">
  <h2>2Ô∏è‚É£ Analysis Summary</h2>

  <!-- Row + Column Count -->
  <div class="summary-grid">
    <div>
      <p class="muted" style="font-weight:600;">Total Rows</p>
      <p id="totalRows" style="font-weight:700;">0</p>
    </div>
    <div>
      <p class="muted" style="font-weight:600;">Total Columns</p>
      <p id="totalCols" style="font-weight:700;">0</p>
    </div>
  </div>

  <!-- SMART COLUMN DETECTOR SECTION -->
  <div class="column-type-box" style="margin-top:20px; padding:15px; border-radius:10px;">
    <h3 style="margin-bottom:10px; font-size:1.1rem; font-weight:700;">üìå Column Type Detection</h3>
    <p class="muted small">Detected data types for each column:</p>

    <ul id="columnTypeList" style="margin-top:10px; line-height:1.6;"></ul>
  </div>
</section>

<!-- =================== DATASET SUMMARY (AI) =================== -->
<section class="card summary-card hidden" id="datasetSummarySection">
  <h2>3Ô∏è‚É£ Dataset Summary (AI)</h2>

  <div id="datasetSummaryText" class="muted small">
    Dataset summary will appear here after upload.
  </div>
</section>

<!-- =================== DATA PREVIEW SECTION =================== -->
<section class="card table-card hidden" id="previewSection">
  <h2>4Ô∏è‚É£ Data Preview</h2>
  <p id="previewInfo" class="muted small">No data available yet.</p>

  <div id="tableWrapper" class="table-wrapper">
    <table id="dataTable">
      <thead id="dataHead"></thead>
      <tbody id="dataBody"></tbody>
    </table>
  </div>

  <div class="pagination-controls">
    <button id="prevPage" class="btn small">‚¨Ö Previous</button>
    <span id="pageInfo" class="muted small">Page 1</span>
    <button id="nextPage" class="btn small">Next ‚û°</button>
  </div>
</section>

<!-- =================== QUERY SECTION =================== -->
<section class="card query-card hidden" id="querySection">
  <h2>5Ô∏è‚É£ Ask Query About Data</h2>
  <p class="muted">Example: ‚ÄúTop 5 highest salary‚Äù</p>
  <input type="text" id="queryInput" placeholder="Type your question here..." />
  <button id="askBtn" class="btn">Get Insight</button>
  <div id="insightBox" class="insight-box">
    <div id="insightText" class="muted small">Insights will appear here after you ask a query.</div>
  </div>
</section>

{% endblock %}
